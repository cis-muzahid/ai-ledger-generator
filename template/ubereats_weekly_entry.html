
{% extends 'base.html' %}

{% block title %}Custom Page Title{% endblock %}

{% block content %}
    <!-- Main Content -->
    <!-- <main role="main"> -->
        <!-- <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4"> -->
    <main role="main" class="col-md-12 col-lg-12 px-4">
    <h1 class="mt-5">Ubereats Weekly Entry</h1>

            <!-- Add this above your table -->
        <div class="dataTables_length" id="datatable_length">
        </div>
        <label for="min-date">Start Date:</label>
        <input type="date" id="min-date">
        
        <label for="max-date">End Date:</label>
        <input type="date" id="max-date">
                

        <table  id="datatable" class="table table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th>Index</th>
                    <th>Week</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Location</th>
                    <th>Accounts Receivable</th>
                    <th>Revenue</th>
                    <th>Revenue Marketing Adjustment</th>
                    <th>Discounts and Comps</th>
                    <th>Ad Marketing</th>
                    <th>Commission</th>
                    <th>Promotions on Items</th>
                    <th>Sales Tax</th>
                    <th>Tax on Refunds</th>
                    <th>Tax on Promotions</th>
                    <th>Debit</th>
                    <th>Credit</th>
                    <th>Discrepancy</th>
                    <th>Total Revenue</th>
                    <th>Total Ad Marketing</th>
                    <th>Total Sales Tax</th>
                    <th>Total Discrepancy</th>
                    <!-- Add more columns as needed -->
                </tr>
                </thead>
            <tbody>
                {% for entry in weekly_entries %}
                    <tr>
                        <td></td><!-- Index column will be filled by DataTables -->
                        <td>{{ entry.week }}</td>
                        <td>{{ entry.start_date }}</td>
                        <td>{{ entry.end_date }}</td>
                        <td>{{ entry.location }}</td>
                        <td>{{ entry.accounts_receivable }}</td>
                        <td>{{ entry.revenue }}</td>
                        <td>{{ entry.revenue_marketing_adj }}</td>
                        <td>{{ entry.discounts_comps }}</td>
                        <td>{{ entry.ad_marketing }}</td>
                        <td>{{ entry.commission }}</td>
                        <td>{{ entry.promotions_on_items }}</td>
                        <td>{{ entry.sales_tax }}</td>
                        <td>{{ entry.tax_on_refunds }}</td>
                        <td>{{ entry.tax_on_promotions }}</td>
                        <td>{{ entry.debit }}</td>
                        <td>{{ entry.credit }}</td>
                        <td>{{ entry.discrepancy }}</td>
                        <td>{{ entry.total_revenue }}</td>
                        <td>{{ entry.total_ad_marketing }}</td>
                        <td>{{ entry.total_sales_tax }}</td>
                        <td>{{ entry.total_discrepancy }}</td>
                        <!-- Add more columns as needed -->
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <!-- Call the reusable function for DataTables initialization -->
            <script>
                // Parameters: tableId, dateColumnIndex
                initializeDataTable('datatable', 2);
            </script>
                        
        </main>
{% endblock %}